"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function Render_header_comp(){ReactDOM.render(React.createElement("div",null,React.createElement("h2",null,"Check List. Mejora Continua."),React.createElement(Header_btn,null),React.createElement(Selector_sucursales,null),React.createElement(Selector_lideres,{lider:establecimieto.getEncargado})),document.getElementById("cavecera"));ReactDOM.render(React.createElement(Lideres,null),document.getElementById("modal_lideres"))}function Render_body_comp(){ReactDOM.render(React.createElement("div",{style:{height:"100%"}},React.createElement(Agergar_cuestionarios,null),React.createElement(Lista_cuestionarios_por_establecimiento,null)),document.getElementById("cuerpo"));ReactDOM.render(React.createElement(Modal_cuestionarios,null),document.getElementById("modal_cuestionarios"))}function responder_cuestionario(n){ReactDOM.render(React.createElement(Responder_cuestionarios,{cuestionario:n}),document.getElementById("modal_resolver_cuestionarios"))}function alerta_ckl(n){ReactDOM.render(React.createElement(Aleta_ckl,{dato:n}),document.getElementById("modal_resolver_cuestionarios"))}function obtener_observaciones(n){ReactDOM.render(React.createElement(Lista_observaciones,{datos:n}),document.getElementById("modal_reporte"))}function resultados_ckl(n){ReactDOM.render(React.createElement(Resultados_ckl,{datos:n}),document.getElementById("modal_reporte"))}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),_get=function(n,t,i){var e=!0,r,f,o;n:while(e){var u=n,s=t,h=i;if(e=!1,u===null&&(u=Function.prototype),r=Object.getOwnPropertyDescriptor(u,s),r===undefined){if(f=Object.getPrototypeOf(u),f===null)return undefined;n=f;t=s;i=h;e=!0;r=f=undefined;continue n}else return"value"in r?r.value:(o=r.get,o===undefined)?undefined:o.call(h)}},ESTABLECIMIENTOS=conexion_ajax("servicios/checkListServ.asmx/buscar_establecimiento"),establecimieto=new objEstablecimieto,Header_btn=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.state={fecha:establecimieto.getFecha}}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this;return React.createElement("div",null,React.createElement("div",{className:"btn-group"},React.createElement("input",{type:"button",className:"btn btn-primary",onClick:function(){return n.actualizar()},value:"Actualizar"}),React.createElement("input",{type:"button",className:"btn btn-primary",value:"Resultados","data-toggle":"modal","data-target":"#modal_reporte",onClick:function(){return n.resultados()}}),React.createElement("input",{type:"button",className:"btn btn-primary",value:"Observaciones","data-toggle":"modal","data-target":"#modal_reporte",onClick:function(){return n.reporte_observaciones()}})),React.createElement("div",{className:"contenedor_calendario"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},React.createElement("i",{className:"fa fa-calendar"})),React.createElement("input",{type:"date",className:"form-control",value:this.state.fecha,onChange:function(t){n.asignar_fecha(t)}}))))}},{key:"actualizar",value:function(){establecimieto.getId>0?(establecimieto.setLista_cuestionarios=establecimieto.getId,Render_header_comp(),Render_body_comp()):alert("seleccione un Establecimiento!!!")}},{key:"asignar_fecha",value:function(n){establecimieto.setFecha=n.target.value;this.setState({fecha:n.target.value})}},{key:"reporte_observaciones",value:function(){var n=establecimieto.getFecha.split("-"),t=conexion_ajax("servicios/checkListServ.asmx/obtener_observaciones",{folio_establecimiento:establecimieto.getId,fecha:n[2]+"-"+n[1]+"-"+n[0]});obtener_observaciones(t)}},{key:"resultados",value:function(){var n=establecimieto.getFecha.split("-"),t=conexion_ajax("servicios/checkListServ.asmx/procedimiento_resultados_cuestionario_por_dia",{fecha:n[2]+"-"+n[1]+"-"+n[0],folio_establecimiento:establecimieto.getId});resultados_ckl(t)}}]),t}(React.Component),Selector_sucursales=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this;return React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},React.createElement("i",{className:"fa fa-edit"})," Establecimiento "),React.createElement("select",{className:"form-control",id:"establecimientos",onChange:function(t){n.cambio_establecimiento(t)}},React.createElement("option",{value:""},"Seleccionar Establecimientos"),this.lista_establecimientos()))}},{key:"lista_establecimientos",value:function(){return ESTABLECIMIENTOS.map(function(n){return React.createElement("option",{key:n.id_establecimiento,value:n.id_establecimiento},n.nombre_establecimiento)})}},{key:"cambio_establecimiento",value:function(n){var t=ESTABLECIMIENTOS.filter(function(t){return t.id_establecimiento==n.target.value});establecimieto.setId=n.target.value;establecimieto.setNombre=t[0].nombre_establecimiento;establecimieto.setEncargado={folio:0,nombre:"",puesto:""};Render_header_comp();Render_body_comp()}}]),t}(React.Component),Selector_lideres=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this.props.lider;return React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon","data-toggle":"modal","data-target":"#modal_lideres"},React.createElement("i",{className:"glyphicon glyphicon-user"})," Encargado"),React.createElement("input",{className:"form-control",id:"Nom_Encargados",value:n.nombre,type:"text",disabled:!0}))}}]),t}(React.Component),Lideres=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.lideres_tienda=conexion_ajax("servicios/checkListServ.asmx/obtener_lideres",{tienda:"todos"});this.lideres_tienda.sort(function(n,t){return n.nombre>t.nombre?1:n.nombre<t.nombre?-1:0})}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"modal-dialog",style:{width:"97%",height:"600px"}},React.createElement("div",{className:"modal-content"},React.createElement(Header_Modal_lideres,{seleccion:establecimieto.getEncargado.nombre,titulo:"Responsable Tienda"}),React.createElement(Body_modal_lideres,{datos:this.lideres_tienda})))}}]),t}(React.Component),Header_Modal_lideres=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×"),React.createElement("label",null,this.props.titulo),React.createElement("br",null),React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},"Seleccion :"),React.createElement("input",{className:"form-control",type:"text",disabled:!0,value:this.props.seleccion,placeholder:"Seleccione De La Tabla..."})))}}]),t}(React.Component),Body_modal_lideres=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.datos=n.datos;this.state={encargado:"",filtro:this.datos}}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this;return React.createElement("div",{className:"modal-body"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},"Filtro : "),React.createElement("input",{className:"form-control",type:"text",placeholder:"Filtro...",onChange:function(t){n.cambioTexto(t)}})),this.crear_tabla())}},{key:"cambioTexto",value:function(n){var t=this.datos.filter(function(t){return t.nombre.toUpperCase().search(n.target.value.toUpperCase())>=0||t.puesto.toUpperCase().search(n.target.value.toUpperCase())>=0?!0:!1});this.setState({encargado:"",filtro:n.target.value===""?this.datos:t})}},{key:"crear_tabla",value:function(){return React.createElement("div",{className:"tabla_lideres"},React.createElement("table",{className:"table table-bordered"},React.createElement("thead",null,React.createElement("tr",{className:"info cavecera_tabla_lideres"},React.createElement("th",null,"ID"),React.createElement("th",null,"NOMBRE"),React.createElement("th",null,"PUESTO"))),React.createElement("tbody",null,this.lista())))}},{key:"lista",value:function(){var n=this;return this.state.filtro.map(function(t){return React.createElement("tr",{key:t.folio,style:{background:"white"},onClick:function(){n.seleccion(t)}},React.createElement("td",null,t.folio),React.createElement("td",null,t.nombre),React.createElement("td",null,t.puesto))})}},{key:"seleccion",value:function(n){this.setState({encargado:n.nombre});establecimieto.setEncargado=n;Render_header_comp()}}]),t}(React.Component),Agergar_cuestionarios=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){return React.createElement("div",null,this.checar_permiso())}},{key:"abrir",value:function(){establecimieto.setCuestionario={folio:0,nom_cuestionario:"",estatus:!1};Render_body_comp()}},{key:"checar_permiso",value:function(){var n=this;return React.createElement("input",{type:"button",className:"btn btn-success btn-block",onClick:function(){return n.abrir()},value:"Gestion Cuestionarios","data-toggle":"modal","data-target":"#modal_cuestionarios"})}}]),t}(React.Component),Modal_cuestionarios=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"modal-dialog",style:{width:"97%",height:"600px"}},React.createElement("div",{className:"modal-content"},React.createElement(Header_Modal_lideres,{seleccion:establecimieto.getCuestionario.nom_cuestionario,titulo:React.createElement("p",null,React.createElement("i",{className:"glyphicon glyphicon-list-alt"},"  Gestion Cuestionarios"))}),React.createElement("br",null),this.checar_si_esta(),React.createElement(Body_modal_cuestionarios,null)))}},{key:"aniadir_cuestionario",value:function(){establecimieto.getId>0&&establecimieto.getCuestionario.folio>0?(conexion_ajax("servicios/checkListServ.asmx/cuestionarios_por_establecimiento_guardar",{id_establecimiento:establecimieto.getId,cuestionario:establecimieto.getCuestionario.folio}),establecimieto.setCuestionario={folio:0,nom_cuestionario:"",estatus:!1},establecimieto.setLista_cuestionarios=establecimieto.getId,Render_header_comp(),Render_body_comp()):alert('Seleccione los Campos:\n"ESTABLECIMIENTO  Y CUESTIONARIO"\n para agregar!!!')}},{key:"eliminar_cuestionario",value:function(){establecimieto.getId>0&&establecimieto.getCuestionario.folio>0?(conexion_ajax("servicios/checkListServ.asmx/cuestionarios_por_establecimiento_borrar",{id_establecimiento:establecimieto.getId,cuestionario:establecimieto.getCuestionario.folio}),establecimieto.setCuestionario={folio:0,nom_cuestionario:"",estatus:!1},establecimieto.setLista_cuestionarios=establecimieto.getId,Render_header_comp(),Render_body_comp()):alert('Seleccione los Campos:\n"ESTABLECIMIENTO Y CUESTIONARIOA"\n para agregar!!!')}},{key:"checar_si_esta",value:function(){var n=this,r=establecimieto.getLista_cuestionarios.filter(function(n){return n.id_cuestionario==establecimieto.getCuestionario.folio}).length>0?!1:!0,t=function(){return n.eliminar_cuestionario()},i="btn btn-danger";return r&&(t=function(){return n.aniadir_cuestionario()},i="btn btn-info "),React.createElement("input",{type:"button",value:"Agregar",style:{"margin-left":"30px","margin-top":"10px"},className:i,onClick:t})}}]),t}(React.Component),Body_modal_cuestionarios=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.datos=conexion_ajax("servicios/checkListServ.asmx/nombres_cuestionarios");this.state={encargado:"",filtro:this.datos}}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this;return React.createElement("div",{className:"modal-body"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},"Filtro : "),React.createElement("input",{className:"form-control",type:"text",placeholder:"Filtro...",onChange:function(t){n.cambioTexto(t)}})),this.crear_tabla())}},{key:"cambioTexto",value:function(n){var t=this.datos.filter(function(t){return t.nom_cuestionario.toUpperCase().search(n.target.value.toUpperCase())>=0?!0:!1});this.setState({encargado:"",filtro:n.target.value===""?this.datos:t})}},{key:"crear_tabla",value:function(){return React.createElement("div",{className:"tabla_lideres"},React.createElement("table",{className:"table table-bordered"},React.createElement("thead",null,React.createElement("tr",{className:"info cavecera_tabla_lideres"},React.createElement("th",null,"ID"),React.createElement("th",null,"NOMBRE"))),React.createElement("tbody",null,this.lista())))}},{key:"lista",value:function(){var n=this;return this.state.filtro.map(function(t){return React.createElement("tr",{key:t.folio,style:{background:"white"},onClick:function(){n.seleccion(t)}},React.createElement("td",null,t.folio),React.createElement("td",null,t.nom_cuestionario))})}},{key:"seleccion",value:function(n){establecimieto.setCuestionario=n;Render_body_comp()}}]),t}(React.Component),Lista_cuestionarios_por_establecimiento=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{id:"contenedor_botones_cuestionarios"},this.obtener_cuestionarios())}},{key:"obtener_cuestionarios",value:function(){var n=this,t;if(establecimieto.getId>0)return t=establecimieto.getLista_cuestionarios,t.map(function(t){return React.createElement("input",{type:"button",value:t.cuestionario,"data-toggle":"modal","data-target":"#modal_resolver_cuestionarios",key:t.cuestionario,className:n.checar_estado(t.resueltos),onClick:function(){return n.mostrar_preguntas(t)}})})}},{key:"checar_estado",value:function(n){return n>0?"btn btn-info btn-lg btn-block":"btn btn-warning btn-lg btn-block"}},{key:"mostrar_preguntas",value:function(n){if(establecimieto.getEncargado.nombre!=""){establecimieto.setPreguntas=n.id_cuestionario;var t=establecimieto.getLista_cuestionarios.filter(function(t){return t.cuestionario==n.cuestionario});responder_cuestionario(t[0])}else alerta_ckl("Falta Seleccionar Encargado Tienda!!!")}}]),t}(React.Component),Responder_cuestionarios=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.state={seleccion:{observaciones:0,orden:0,pertenece:"",pregunta:"",respuesta:3},observacion:"",lista_observaciones:[]}}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this,t=React.createElement("div",null,React.createElement("i",{className:"glyphicon glyphicon-edit"}," ",this.props.cuestionario.cuestionario," ")),i=this.state.seleccion.pregunta;return React.createElement("div",{className:"modal-content"},React.createElement("div",{onClick:function(){return n.deseleccion()}},React.createElement(Header_Modal_lideres,{seleccion:i,titulo:t})),React.createElement("div",{className:"modal-body"},React.createElement("div",null,this.respuestas()),this.observaciones(),this.lista_observaciones_pregunta(),this.titulo_preguntas(),this.tabla_preguntas()),React.createElement("input",{type:"button",value:"Guardar",onClick:function(){return n.guardar_respuestas_cuestionario()},className:"btn btn-info btn-block"}))}},{key:"deseleccion",value:function(){this.setState({seleccion:{observaciones:0,orden:0,pertenece:"",pregunta:"",respuesta:3},observacion:"",lista_observaciones:[]})}},{key:"titulo_preguntas",value:function(){return React.createElement("div",null,React.createElement("h4",{style:{display:"inline-block"}},"Preguntas:"),React.createElement("span",{className:"marcador_r"},React.createElement("span",null,"si : ",this.totales(1)," "),React.createElement("span",null,"no : ",this.totales(0)," "),React.createElement("span",null,"na : ",this.totales(2)," "),React.createElement("span",null,"R  : ",Math.round(this.totales(1)/(this.totales(0)+this.totales(1))*1e3)/10>=0?Math.round(this.totales(1)/(this.totales(0)+this.totales(1))*1e3)/10:0," %.")))}},{key:"tabla_preguntas",value:function(){var n=this,t=establecimieto.getPreguntas.map(function(t){return React.createElement("tr",{onClick:function(){return n.seleccionar_pregunta(t)},key:t.orden},React.createElement("td",null,t.orden),React.createElement("td",{style:{"text-align":"left"}},t.pregunta),React.createElement("td",null,n.convercion_respuesta(t.respuesta)),React.createElement("td",null,React.createElement("i",{className:"glyphicon glyphicon-eye-open blue",title:"Observaciones"}," ",t.observaciones)))});return React.createElement("div",{className:"tabla_lideres",style:{height:"380px"}},React.createElement("table",{className:"table table-bordered"},React.createElement("tbody",null,t)))}},{key:"convercion_respuesta",value:function(n){return n==1?React.createElement("i",{className:"glyphicon glyphicon-ok respuestas si"}):n==0?React.createElement("i",{className:"glyphicon glyphicon-remove respuestas no"}):n==2?React.createElement("i",{className:"glyphicon glyphicon-ban-circle respuestas na"}):React.createElement("i",{className:"glyphicon glyphicon-alert respuestas pendiente"})}},{key:"seleccionar_pregunta",value:function(n){this.setState({id:this.props.cuestionario.id_cuestionario,nombre:this.props.cuestionario.cuestionario,seleccion:n,lista_observaciones:[]})}},{key:"respuestas",value:function(){var n=this;return React.createElement("div",null,React.createElement("div",null,React.createElement("i",{className:"glyphicon glyphicon-ok respuestas si",onClick:function(){n.responder(1)}}),React.createElement("i",{className:"glyphicon glyphicon-remove respuestas no",onClick:function(){n.responder(0)}}),React.createElement("i",{className:"glyphicon glyphicon-ban-circle respuestas na",onClick:function(){n.responder(2)}})))}},{key:"responder",value:function(n){this.state.seleccion.respuesta=n;this.setState({seleccion:{orden:0,pregunta:"",pertenece:"",respuesta:3}})}},{key:"totales",value:function(n){var t=establecimieto.getPreguntas.filter(function(t){return t.respuesta==n});return t.length}},{key:"observaciones_porPregunta",value:function(){var t=this,i=[],n;establecimieto.getId>0&&this.state.seleccion.observaciones>0&&(n=establecimieto.getFecha.split("-"),i=conexion_ajax("servicios/checkListServ.asmx/obtener_observaciones",{folio_establecimiento:establecimieto.getId,fecha:n[2]+"-"+n[1]+"-"+n[0]}));this.setState({lista_observaciones:i.filter(function(n){return n.pregunta==t.state.seleccion.pregunta&n.cuestionario==t.state.nombre})})}},{key:"lista_observaciones_pregunta",value:function(){var i=this,n,t;return this.state.lista_observaciones.length>0&&(t=this.state.lista_observaciones.map(function(n){return React.createElement("tr",{className:"lista_observaciones"},React.createElement("td",null,n.observaciones,React.createElement("i",{className:"glyphicon glyphicon-remove-circle red close",onClick:function(){return i.remover_obs(n.folio)}})))}),n=React.createElement("table",{className:"table table-bordered "},React.createElement("tbody",null,t))),React.createElement("div",{className:"tabla_observaciones_por_pregunta"},n," ")}},{key:"remover_obs",value:function(n){var t=this;n>0&&(establecimieto.getPreguntas.filter(function(n){return n.orden==t.state.seleccion.orden?n.observaciones-=1:n.observaciones,n}),conexion_ajax("servicios/checkListServ.asmx/Eliminar_observaciones",{folio:n}),this.deseleccion())}},{key:"observaciones",value:function(){var n=this;return React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon",onClick:function(){return n.observaciones_porPregunta()}},React.createElement("i",{className:"glyphicon glyphicon-eye-open"})," Ver : "),React.createElement("input",{className:"form-control",type:"text",style:{width:"87%"},placeholder:"Observaciones...",value:this.state.observacion,onChange:function(t){return n.agregar_observaciones(t)}}),React.createElement("i",{className:"glyphicon glyphicon-plus  respuestas blue",title:"Observaciones",onClick:function(){n.enviar_observaciones()}}))}},{key:"agregar_observaciones",value:function(n){this.state.seleccion.orden>0?this.setState({observacion:n.target.value}):alert("Seleccione Una Pregunta!!!")}},{key:"enviar_observaciones",value:function(){var u=this,n=this.state.observacion,t=establecimieto.getFecha.split("-"),i=USUARIOS.filter(function(n){return n.id_scoi==ID_SCOI}),r;i=i[0];this.state.seleccion.orden>0?n!=""&&n!=" "?(this.setState({observacion:""}),r={folio_establecimiento:establecimieto.getId,id_cuestionario:this.state.id,fecha:t[2]+"-"+t[1]+"-"+t[0],posicion_pregunta:this.state.seleccion.orden,observaciones:n,usuario:i.nombre_usuario},conexion_ajax("servicios/checkListServ.asmx/guardar_observaciones",r),establecimieto.getPreguntas.filter(function(n){return n.orden==u.state.seleccion.orden?n.observaciones++:n.observaciones,n}),this.deseleccion()):alert("Coloque Una Observacion!!!"):alert("Seleccione Una Pregunta!!!")}},{key:"guardar_respuestas_cuestionario",value:function(){var r=establecimieto.getPreguntas.filter(function(n){return n.respuesta!=3}),u=r.length===establecimieto.getPreguntas.length?!0:!1,n,t,i;u?(n=establecimieto.getFecha.split("-"),t=USUARIOS.filter(function(n){return n.id_scoi==ID_SCOI}),t=t[0],i={sucursal:establecimieto.getId,fecha:n[2]+"-"+n[1]+"-"+n[0],zona:this.state.id,criterio:establecimieto.getPreguntas.map(function(n){return n.orden}),respuestas:establecimieto.getPreguntas.map(function(n){return n.respuesta}),datos_pregunta:establecimieto.getPreguntas.map(function(n){return n.pregunta}),observaciones:"00:00:00",aplicador:ID_SCOI,encargado:establecimieto.getEncargado.nombre!=""?establecimieto.getEncargado.nombre:"NA"},fetch("servicios/checkListServ.asmx/guardar_datos_3",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then(function(n){return n.json()}).then(function(){establecimieto.setLista_cuestionarios=establecimieto.getId;Render_header_comp();Render_body_comp();alerta_ckl("Guardado...")})["catch"](function(n){return alert("Error:",n)})):alert("falta por responder")}}]),t}(React.Component),Aleta_ckl=function(n){function t(){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this.props.dato;return React.createElement("div",null,React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-body",style:{"text-align":"center"}},React.createElement("h3",null,n),React.createElement("input",{type:"button",value:"OK","data-dismiss":"modal",className:"btn btn-info btn-block"}))))}}]),t}(React.Component),Lista_observaciones=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.state={datos:[]}}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this;return React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×"),React.createElement("h3",{onClick:function(){return n.checar()}},"Observaciones")),React.createElement("div",{className:"modal-body tabla_lideres",style:{"text-aling":"center"}},this.lista_observaciones()),React.createElement("div",{className:"modal-footer"},React.createElement("input",{type:"button",value:"Exportar",className:"btn btn-info btn-block",onClick:function(){return n.exportar()}})))}},{key:"lista_observaciones",value:function(){var i=this,n,t;return this.state={datos:this.props.datos},n=1,t=this.state.datos.map(function(t){return React.createElement("tr",{key:t.folio},React.createElement("td",{style:{height:"10px"}},n++),React.createElement("td",null,t.observaciones),React.createElement("td",{style:{height:"10px"}},React.createElement("i",{className:"glyphicon glyphicon-remove",onClick:function(){return i.remover(t.folio)}})))}),React.createElement("table",{className:"table table-bordered",id:"mostrar_observaciones_cuestionario"},React.createElement("tbody",null,t))}},{key:"remover",value:function(n){conexion_ajax("servicios/checkListServ.asmx/Eliminar_observaciones",{folio:n});var t=establecimieto.getFecha.split("-");this.checar()}},{key:"exportar",value:function(){this.state.datos.length>0?tableToExcel("mostrar_observaciones_cuestionario","observaciones--"+establecimieto.getNombre):alert("Sin Datos!!!")}},{key:"checar",value:function(){var n=establecimieto.getFecha.split("-"),t=conexion_ajax("servicios/checkListServ.asmx/obtener_observaciones",{folio_establecimiento:establecimieto.getId,fecha:n[2]+"-"+n[1]+"-"+n[0]});obtener_observaciones(t)}}]),t}(React.Component),Resultados_ckl=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n)}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this;return React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×"),React.createElement("h3",null,"Resultados Cuestionarios"),this.resultados()),React.createElement("br",null),React.createElement("div",{className:"modal-body tabla_lideres",style:{"text-aling":"center"}},this.tabla_datos()),React.createElement("br",null),React.createElement("div",null,React.createElement("input",{type:"button",value:"Exportar",className:"btn btn-info btn-block",onClick:function(){return n.exportar()}})))}},{key:"tabla_datos",value:function(){var t=this,i=0,r="",n=[],u=this.state.datos.map(function(u){i==0&&(r=u.zona_inspeccion,n.push(t.cavecera_res(u)),n.push(t.puntos_res()));u.zona_inspeccion==r?u.posicion==1?n.push(t.cuerpo_resultados(u)):n.push(t.cuerpo_resultados(u)):(i=0,r=u.zona_inspeccion,n.push(t.cavecera_res(u)),n.push(t.puntos_res()),n.push(t.cuerpo_resultados(u)));i=1});return React.createElement("table",{className:"table table-bordered ",id:"reporte_cuestionarios"},React.createElement("tbody",null,n))}},{key:"cavecera_res",value:function(n){return React.createElement("tr",{className:"info"},React.createElement("th",{rowspan:"2",style:{width:"50px","text-align":"center"}},"#"),React.createElement("th",{rowspan:"2",style:{"text-align":"center"}},n.zona_inspeccion),React.createElement("th",{colspan:"3",style:{width:"150px","text-align":"center"}},"CUMPLE"),React.createElement("th",{rowspan:"2",style:{width:"50px","text-align":"center"}},"PERTENECE"))}},{key:"puntos_res",value:function(){return React.createElement("tr",null,React.createElement("td",null,"SI"),React.createElement("td",null,"NO"),React.createElement("td",null,"NA"))}},{key:"cuerpo_resultados",value:function(n){var t=n.rsi==1&n.rno==0?"green":"",i=n.rsi==0&n.rno==1?"red":"",r=n.caducidad==1?"limpieza":n.surtido==1?"surtido":n.imagen==1?"imagen":n.generales==1?"generales":n.senializaciores==1?"señalizacion":n.limpieza==1?"limpieza":"NA";return React.createElement("tr",{className:"table"},React.createElement("td",null,n.posicion),React.createElement("td",{style:{"text-align":"left"}},n.pregunta),React.createElement("td",{style:{background:t}},n.rsi==1?"X":""),React.createElement("td",{style:{background:i}},n.rno==1?"X":""),React.createElement("td",null,n.rna==1?"X":""),React.createElement("td",null,r))}},{key:"resultados",value:function(){this.state={datos:this.props.datos};var n=this.state.datos.filter(function(n){return n.rsi==1}).length,t=this.state.datos.filter(function(n){return n.rno==1}).length,i=this.state.datos.filter(function(n){return n.rna==1}).length;return React.createElement("span",{className:"marcador_r",style:{top:"35px",right:"30px"}},React.createElement("span",{className:"success"},"SI : ",n),React.createElement("span",{className:"danger"},"NO : ",t),React.createElement("span",{className:"info"},"NA : ",i),React.createElement("span",null,"TOTAL : ",Math.round(n/(t+n)*1e3)/10>=0?Math.round(n/(t+n)*1e3)/10:0," % "))}},{key:"exportar",value:function(){this.state.datos.length>0?tableToExcel("reporte_cuestionarios","Reporte--"+establecimieto.getNombre):alert("Sin Datos!!!")}}]),t}(React.Component);Render_header_comp();Render_body_comp();