"use strict";function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),_get=function(n,t,i){var e=!0,r,f,o;n:while(e){var u=n,s=t,h=i;if(e=!1,u===null&&(u=Function.prototype),r=Object.getOwnPropertyDescriptor(u,s),r===undefined){if(f=Object.getPrototypeOf(u),f===null)return undefined;n=f;t=s;i=h;e=!0;r=f=undefined;continue n}else return"value"in r?r.value:(o=r.get,o===undefined)?undefined:o.call(h)}},$MI_URL=window.location.protocol+"//"+window.location.hostname,$URL_API=$MI_URL+":90/api/",$URL_API_IZA=$MI_URL+":180/api/",concepto_modelo=function concepto_modelo(){_classCallCheck(this,concepto_modelo);this.Folio=0;this.Concepto="";this.Abreviatura="";this.Estatus="V";this.Fecha="";this.Fecha_modificacion=""},EdicionConceptos=function(n){function t(n){var i=this;_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.state={concepto:new concepto_modelo,lista_cuestionarios:[],estatus:1};this.seleccionar=this.on_seleccion_concepto.bind(this);setTimeout(function(){return i.cambiar_estatus(0)},1e3);this.Obtner_conceptos()}return _inherits(t,n),_createClass(t,[{key:"on_concepto",value:function(n){var i=n.target.value,t=this.state.concepto;t.Concepto=i;this.setState({concepto:t})}},{key:"on_estado",value:function(n){var i=n.target.value,t=this.state.concepto;t.Estatus=i;this.setState({concepto:t})}},{key:"on_abreviatura",value:function(n){var i=n.target.value,t=this.state.concepto;t.Abreviatura=i;this.setState({concepto:t})}},{key:"on_seleccion_concepto",value:function(n){var t=n.Folio,i=n.Concepto,r=n.Estatus,u=n.Fecha,f=n.Fecha_modificacion,e=n.Abreviatura;this.setState({concepto:{Folio:t,Concepto:i,Estatus:r,Fecha:u,Fecha_modificacion:f,Abreviatura:e}})}},{key:"on_cancelar",value:function(){this.setState({concepto:new concepto_modelo})}},{key:"llenar_conceptos",value:function(n){this.setState({lista_cuestionarios:n});this.cambiar_estatus(0)}},{key:"guardado",value:function(n){this.setState({concepto:new concepto_modelo});alert("Folio Concepto:"+n.Folio+" Guardado...");this.Obtner_conceptos()}},{key:"comprobar_concepto",value:function(){var n=this.state.concepto,t=n.Concepto,i=n.Abreviatura;return t!=""&&i!=""?this.cambiar_estatus(1):this.cambiar_estatus(0),t!=""&&i!=""}},{key:"cambiar_estatus",value:function(n){this.setState({estatus:n})}},{key:"Obtner_conceptos",value:function(){var n=this;fetch($URL_API+"Mostrar_conceptos",{method:"Get",headers:{"Content-Type":"application/json"}}).then(function(t){t.json().then(function(t){return n.llenar_conceptos(t)})})["catch"](function(n){return console.error("Error=>",n)})}},{key:"Guardar_Concepto",value:function(){var n=this,t=this.state.concepto;this.comprobar_concepto()?fetch($URL_API+"Editar_conceptos",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){t.json().then(function(t){return n.guardado(t)})})["catch"](function(n){return console.error("Error=>",n)}):alert("Falta Agregar Los Siguientes Campos:\nConcepto,Abreviatura!!!")}},{key:"render",value:function(){var n=this,t=this.state,i=t.concepto,r=t.lista_cuestionarios,u=t.estatus;return React.createElement("div",{className:"panel panel-default"},React.createElement(Cavecera,{concepto:i,evConcepto:function(t){return n.on_concepto(t)},evEstado:function(t){return n.on_estado(t)},evAbreviatura:function(t){return n.on_abreviatura(t)},evAgregar:function(){return n.Guardar_Concepto()},evCancelar:function(){return n.on_cancelar()}}),React.createElement(Cuerpo,{Lista:r,evSeleccion:this.seleccionar}),React.createElement(EfectoCargar,{estatus:u}))}}]),t}(React.Component),Cavecera=function(n){var t=n.concepto,r=n.evConcepto,u=n.evEstado,f=n.evAbreviatura,e=n.evAgregar,o=n.evCancelar,s=t.Concepto,h=t.Abreviatura,i=t.Estatus;return React.createElement("div",{className:"panel-heading"},React.createElement("label",null,"Agregar Concepto"),React.createElement("input",{className:"form-control",value:s,onChange:r,placeholder:"Descripcion De Concepto..."}),React.createElement("div",null,React.createElement("div",{className:"entrada_corta"},React.createElement("label",null,"Estado:"),React.createElement("select",{className:"form-control",onClick:u},React.createElement("option",{selected:i=="V",value:"V"},"Vigente"),React.createElement("option",{selected:i=="C",value:"C"},"Cancelado"))),React.createElement("div",{className:"entrada_corta"},React.createElement("label",null,"Abreviatura:"),React.createElement("input",{className:"form-control",onChange:f,value:h,placeholder:"Abreviatura ..."})),React.createElement("i",{className:"btn btn-success fa fa-plus",onClick:e},"Agregar"),React.createElement("i",{className:"btn btn-danger fa fa-close",onClick:o},"Cancelar")))},Cuerpo=function(n){var t=n.Lista,i=n.evSeleccion;return React.createElement("div",{className:"panel-body"},React.createElement("strong",null,"Lista Conceptos:"),React.createElement("div",{id:"contenedor_tabla"},React.createElement("table",{className:"table"},React.createElement("tbody",null,t.map(function(n){return React.createElement("tr",{onClick:function(){return i(n)}},React.createElement("td",null,n.Folio),React.createElement("td",null,n.Concepto),React.createElement("td",null,n.Abreviatura),React.createElement("td",null,n.Estatus=="V"?"Vigente.":"Cancelado."))})))))};location.protocol!="http:"&&(location.protocol="http:");ReactDOM.render(React.createElement(EdicionConceptos,null),document.querySelector("#root"));